/*
* Your custom javascript stuff goes here	
*/ 
function interrogate(what) {
	var output = '';
	for (var i in what)
	output += i+ '\n';
	alert(output);
}


var Login = {
	
	options : {},
	
	start : function(url) {
		this.options.url = url;
		if ($$('mini_login')) Login.loadEvents();
	},

	loadEvents : function(){
		$$('#mini_login .submitter').addEvents({
			'click': function(event){
				//event = new Event(event).stop();
				login = $('mini_login');
				login.submit();
			}
		
		});
	}
}

function init_AGO(url){
	Login.start(url);
}


/* Timezone Selection */

var allzones = Array(Array('CI', 'Africa/Abidjan'),
Array('GH', 'Africa/Accra'),
Array('ET', 'Africa/Addis_Ababa'),
Array('DZ', 'Africa/Algiers'),
Array('ER', 'Africa/Asmera'),
Array('ML', 'Africa/Bamako'),
Array('CF', 'Africa/Bangui'),
Array('GM', 'Africa/Banjul'),
Array('GW', 'Africa/Bissau'),
Array('MW', 'Africa/Blantyre'),
Array('CG', 'Africa/Brazzaville'),
Array('BI', 'Africa/Bujumbura'),
Array('EG', 'Africa/Cairo'),
Array('MA', 'Africa/Casablanca'),
Array('ES', 'Africa/Ceuta'),
Array('GN', 'Africa/Conakry'),
Array('SN', 'Africa/Dakar'),
Array('TZ', 'Africa/Dar_es_Salaam'),
Array('DJ', 'Africa/Djibouti'),
Array('CM', 'Africa/Douala'),
Array('EH', 'Africa/El_Aaiun'),
Array('SL', 'Africa/Freetown'),
Array('BW', 'Africa/Gaborone'),
Array('ZW', 'Africa/Harare'),
Array('ZA', 'Africa/Johannesburg'),
Array('UG', 'Africa/Kampala'),
Array('SD', 'Africa/Khartoum'),
Array('RW', 'Africa/Kigali'),
Array('CD', 'Africa/Kinshasa'),
Array('NG', 'Africa/Lagos'),
Array('GA', 'Africa/Libreville'),
Array('TG', 'Africa/Lome'),
Array('AO', 'Africa/Luanda'),
Array('CD', 'Africa/Lubumbashi'),
Array('ZM', 'Africa/Lusaka'),
Array('GQ', 'Africa/Malabo'),
Array('MZ', 'Africa/Maputo'),
Array('LS', 'Africa/Maseru'),
Array('SZ', 'Africa/Mbabane'),
Array('SO', 'Africa/Mogadishu'),
Array('LR', 'Africa/Monrovia'),
Array('KE', 'Africa/Nairobi'),
Array('TD', 'Africa/Ndjamena'),
Array('NE', 'Africa/Niamey'),
Array('MR', 'Africa/Nouakchott'),
Array('BF', 'Africa/Ouagadougou'),
Array('BJ', 'Africa/Porto'),
Array('ST', 'Africa/Sao_Tome'),
Array('LY', 'Africa/Tripoli'),
Array('TN', 'Africa/Tunis'),
Array('NA', 'Africa/Windhoek'),
Array('US', 'America/Adak'),
Array('US', 'America/Anchorage'),
Array('AI', 'America/Anguilla'),
Array('AG', 'America/Antigua'),
Array('BR', 'America/Araguaina'),
Array('AR', 'America/Argentina/Buenos_Aires'),
Array('AR', 'America/Argentina/Catamarca'),
Array('AR', 'America/Argentina/Cordoba'),
Array('AR', 'America/Argentina/Jujuy'),
Array('AR', 'America/Argentina/La_Rioja'),
Array('AR', 'America/Argentina/Mendoza'),
Array('AR', 'America/Argentina/Rio_Gallegos'),
Array('AR', 'America/Argentina/San_Juan'),
Array('AR', 'America/Argentina/Tucuman'),
Array('AR', 'America/Argentina/Ushuaia'),
Array('AW', 'America/Aruba'),
Array('PY', 'America/Asuncion'),
Array('BR', 'America/Bahia'),
Array('BB', 'America/Barbados'),
Array('BR', 'America/Belem'),
Array('BZ', 'America/Belize'),
Array('BR', 'America/Boa_Vista'),
Array('CO', 'America/Bogota'),
Array('US', 'America/Boise'),
Array('CA', 'America/Cambridge_Bay'),
Array('BR', 'America/Campo_Grande'),
Array('MX', 'America/Cancun'),
Array('VE', 'America/Caracas'),
Array('GF', 'America/Cayenne'),
Array('KY', 'America/Cayman'),
Array('US', 'America/Chicago'),
Array('MX', 'America/Chihuahua'),
Array('CA', 'America/Coral_Harbour'),
Array('CR', 'America/Costa_Rica'),
Array('BR', 'America/Cuiaba'),
Array('AN', 'America/Curacao'),
Array('GL', 'America/Danmarkshavn'),
Array('CA', 'America/Dawson'),
Array('CA', 'America/Dawson_Creek'),
Array('US', 'America/Denver'),
Array('US', 'America/Detroit'),
Array('DM', 'America/Dominica'),
Array('CA', 'America/Edmonton'),
Array('BR', 'America/Eirunepe'),
Array('SV', 'America/El_Salvador'),
Array('BR', 'America/Fortaleza'),
Array('CA', 'America/Glace_Bay'),
Array('GL', 'America/Godthab'),
Array('CA', 'America/Goose_Bay'),
Array('TC', 'America/Grand_Turk'),
Array('GD', 'America/Grenada'),
Array('GP', 'America/Guadeloupe'),
Array('GT', 'America/Guatemala'),
Array('EC', 'America/Guayaquil'),
Array('GY', 'America/Guyana'),
Array('CA', 'America/Halifax'),
Array('CU', 'America/Havana'),
Array('MX', 'America/Hermosillo'),
Array('US', 'America/Indiana/Indianapolis'),
Array('US', 'America/Indiana/Knox'),
Array('US', 'America/Indiana/Marengo'),
Array('US', 'America/Indiana/Petersburg'),
Array('US', 'America/Indiana/Vevay'),
Array('US', 'America/Indiana/Vincennes'),
Array('CA', 'America/Inuvik'),
Array('CA', 'America/Iqaluit'),
Array('JM', 'America/Jamaica'),
Array('US', 'America/Juneau'),
Array('US', 'America/Kentucky/Louisville'),
Array('US', 'America/Kentucky/Monticello'),
Array('BO', 'America/La_Paz'),
Array('PE', 'America/Lima'),
Array('US', 'America/Los_Angeles'),
Array('BR', 'America/Maceio'),
Array('NI', 'America/Managua'),
Array('BR', 'America/Manaus'),
Array('MQ', 'America/Martinique'),
Array('MX', 'America/Mazatlan'),
Array('US', 'America/Menominee'),
Array('MX', 'America/Merida'),
Array('MX', 'America/Mexico_City'),
Array('PM', 'America/Miquelon'),
Array('CA', 'America/Moncton'),
Array('MX', 'America/Monterrey'),
Array('UY', 'America/Montevideo'),
Array('CA', 'America/Montreal'),
Array('MS', 'America/Montserrat'),
Array('BS', 'America/Nassau'),
Array('US', 'America/New_York'),
Array('CA', 'America/Nipigon'),
Array('US', 'America/Nome'),
Array('BR', 'America/Noronha'),
Array('US', 'America/North_Dakota/Center'),
Array('PA', 'America/Panama'),
Array('CA', 'America/Pangnirtung'),
Array('SR', 'America/Paramaribo'),
Array('US', 'America/Phoenix'),
Array('HT', 'America/Port'),
Array('TT', 'America/Port_of_Spain'),
Array('BR', 'America/Porto_Velho'),
Array('PR', 'America/Puerto_Rico'),
Array('CA', 'America/Rainy_River'),
Array('CA', 'America/Rankin_Inlet'),
Array('BR', 'America/Recife'),
Array('CA', 'America/Regina'),
Array('BR', 'America/Rio_Branco'),
Array('CL', 'America/Santiago'),
Array('DO', 'America/Santo_Domingo'),
Array('BR', 'America/Sao_Paulo'),
Array('GL', 'America/Scoresbysund'),
Array('US', 'America/Shiprock'),
Array('CA', 'America/St_Johns'),
Array('KN', 'America/St_Kitts'),
Array('LC', 'America/St_Lucia'),
Array('VI', 'America/St_Thomas'),
Array('VC', 'America/St_Vincent'),
Array('CA', 'America/Swift_Current'),
Array('HN', 'America/Tegucigalpa'),
Array('GL', 'America/Thule'),
Array('CA', 'America/Thunder_Bay'),
Array('MX', 'America/Tijuana'),
Array('CA', 'America/Toronto'),
Array('VG', 'America/Tortola'),
Array('CA', 'America/Vancouver'),
Array('CA', 'America/Whitehorse'),
Array('CA', 'America/Winnipeg'),
Array('US', 'America/Yakutat'),
Array('CA', 'America/Yellowknife'),
Array('AQ', 'Antarctica/Casey'),
Array('AQ', 'Antarctica/Davis'),
Array('AQ', 'Antarctica/DumontDUrville'),
Array('AQ', 'Antarctica/Mawson'),
Array('AQ', 'Antarctica/McMurdo'),
Array('AQ', 'Antarctica/Palmer'),
Array('AQ', 'Antarctica/Rothera'),
Array('AQ', 'Antarctica/South_Pole'),
Array('AQ', 'Antarctica/Syowa'),
Array('AQ', 'Antarctica/Vostok'),
Array('SJ', 'Arctic/Longyearbyen'),
Array('YE', 'Asia/Aden'),
Array('KZ', 'Asia/Almaty'),
Array('JO', 'Asia/Amman'),
Array('RU', 'Asia/Anadyr'),
Array('KZ', 'Asia/Aqtau'),
Array('KZ', 'Asia/Aqtobe'),
Array('TM', 'Asia/Ashgabat'),
Array('IQ', 'Asia/Baghdad'),
Array('BH', 'Asia/Bahrain'),
Array('AZ', 'Asia/Baku'),
Array('TH', 'Asia/Bangkok'),
Array('LB', 'Asia/Beirut'),
Array('KG', 'Asia/Bishkek'),
Array('BN', 'Asia/Brunei'),
Array('IN', 'Asia/Calcutta'),
Array('MN', 'Asia/Choibalsan'),
Array('CN', 'Asia/Chongqing'),
Array('LK', 'Asia/Colombo'),
Array('SY', 'Asia/Damascus'),
Array('BD', 'Asia/Dhaka'),
Array('TL', 'Asia/Dili'),
Array('AE', 'Asia/Dubai'),
Array('TJ', 'Asia/Dushanbe'),
Array('PS', 'Asia/Gaza'),
Array('CN', 'Asia/Harbin'),
Array('HK', 'Asia/Hong_Kong'),
Array('MN', 'Asia/Hovd'),
Array('RU', 'Asia/Irkutsk'),
Array('ID', 'Asia/Jakarta'),
Array('ID', 'Asia/Jayapura'),
Array('IL', 'Asia/Jerusalem'),
Array('AF', 'Asia/Kabul'),
Array('RU', 'Asia/Kamchatka'),
Array('PK', 'Asia/Karachi'),
Array('CN', 'Asia/Kashgar'),
Array('NP', 'Asia/Katmandu'),
Array('RU', 'Asia/Krasnoyarsk'),
Array('MY', 'Asia/Kuala_Lumpur'),
Array('MY', 'Asia/Kuching'),
Array('KW', 'Asia/Kuwait'),
Array('MO', 'Asia/Macau'),
Array('RU', 'Asia/Magadan'),
Array('ID', 'Asia/Makassar'),
Array('PH', 'Asia/Manila'),
Array('OM', 'Asia/Muscat'),
Array('CY', 'Asia/Nicosia'),
Array('RU', 'Asia/Novosibirsk'),
Array('RU', 'Asia/Omsk'),
Array('KZ', 'Asia/Oral'),
Array('KH', 'Asia/Phnom_Penh'),
Array('ID', 'Asia/Pontianak'),
Array('KP', 'Asia/Pyongyang'),
Array('QA', 'Asia/Qatar'),
Array('KZ', 'Asia/Qyzylorda'),
Array('MM', 'Asia/Rangoon'),
Array('SA', 'Asia/Riyadh'),
Array('VN', 'Asia/Saigon'),
Array('RU', 'Asia/Sakhalin'),
Array('UZ', 'Asia/Samarkand'),
Array('KR', 'Asia/Seoul'),
Array('CN', 'Asia/Shanghai'),
Array('SG', 'Asia/Singapore'),
Array('TW', 'Asia/Taipei'),
Array('UZ', 'Asia/Tashkent'),
Array('GE', 'Asia/Tbilisi'),
Array('IR', 'Asia/Tehran'),
Array('BT', 'Asia/Thimphu'),
Array('JP', 'Asia/Tokyo'),
Array('MN', 'Asia/Ulaanbaatar'),
Array('CN', 'Asia/Urumqi'),
Array('LA', 'Asia/Vientiane'),
Array('RU', 'Asia/Vladivostok'),
Array('RU', 'Asia/Yakutsk'),
Array('RU', 'Asia/Yekaterinburg'),
Array('AM', 'Asia/Yerevan'),
Array('PT', 'Atlantic/Azores'),
Array('BM', 'Atlantic/Bermuda'),
Array('ES', 'Atlantic/Canary'),
Array('CV', 'Atlantic/Cape_Verde'),
Array('FO', 'Atlantic/Faeroe'),
Array('SJ', 'Atlantic/Jan_Mayen'),
Array('PT', 'Atlantic/Madeira'),
Array('IS', 'Atlantic/Reykjavik'),
Array('GS', 'Atlantic/South_Georgia'),
Array('SH', 'Atlantic/St_Helena'),
Array('FK', 'Atlantic/Stanley'),
Array('AU', 'Australia/Adelaide'),
Array('AU', 'Australia/Brisbane'),
Array('AU', 'Australia/Broken_Hill'),
Array('AU', 'Australia/Currie'),
Array('AU', 'Australia/Darwin'),
Array('AU', 'Australia/Hobart'),
Array('AU', 'Australia/Lindeman'),
Array('AU', 'Australia/Lord_Howe'),
Array('AU', 'Australia/Melbourne'),
Array('AU', 'Australia/Perth'),
Array('AU', 'Australia/Sydney'),
Array('NL', 'Europe/Amsterdam'),
Array('AD', 'Europe/Andorra'),
Array('GR', 'Europe/Athens'),
Array('CS', 'Europe/Belgrade'),
Array('DE', 'Europe/Berlin'),
Array('SK', 'Europe/Bratislava'),
Array('BE', 'Europe/Brussels'),
Array('RO', 'Europe/Bucharest'),
Array('HU', 'Europe/Budapest'),
Array('MD', 'Europe/Chisinau'),
Array('DK', 'Europe/Copenhagen'),
Array('IE', 'Europe/Dublin'),
Array('GI', 'Europe/Gibraltar'),
Array('FI', 'Europe/Helsinki'),
Array('TR', 'Europe/Istanbul'),
Array('RU', 'Europe/Kaliningrad'),
Array('UA', 'Europe/Kiev'),
Array('PT', 'Europe/Lisbon'),
Array('SI', 'Europe/Ljubljana'),
Array('GB', 'Europe/London'),
Array('LU', 'Europe/Luxembourg'),
Array('ES', 'Europe/Madrid'),
Array('MT', 'Europe/Malta'),
Array('AX', 'Europe/Mariehamn'),
Array('BY', 'Europe/Minsk'),
Array('MC', 'Europe/Monaco'),
Array('RU', 'Europe/Moscow'),
Array('NO', 'Europe/Oslo'),
Array('FR', 'Europe/Paris'),
Array('CZ', 'Europe/Prague'),
Array('LV', 'Europe/Riga'),
Array('IT', 'Europe/Rome'),
Array('RU', 'Europe/Samara'),
Array('SM', 'Europe/San_Marino'),
Array('BA', 'Europe/Sarajevo'),
Array('UA', 'Europe/Simferopol'),
Array('MK', 'Europe/Skopje'),
Array('BG', 'Europe/Sofia'),
Array('SE', 'Europe/Stockholm'),
Array('EE', 'Europe/Tallinn'),
Array('AL', 'Europe/Tirane'),
Array('UA', 'Europe/Uzhgorod'),
Array('LI', 'Europe/Vaduz'),
Array('VA', 'Europe/Vatican'),
Array('AT', 'Europe/Vienna'),
Array('LT', 'Europe/Vilnius'),
Array('PL', 'Europe/Warsaw'),
Array('HR', 'Europe/Zagreb'),
Array('UA', 'Europe/Zaporozhye'),
Array('CH', 'Europe/Zurich'),
Array('MG', 'Indian/Antananarivo'),
Array('IO', 'Indian/Chagos'),
Array('CX', 'Indian/Christmas'),
Array('CC', 'Indian/Cocos'),
Array('KM', 'Indian/Comoro'),
Array('TF', 'Indian/Kerguelen'),
Array('SC', 'Indian/Mahe'),
Array('MV', 'Indian/Maldives'),
Array('MU', 'Indian/Mauritius'),
Array('YT', 'Indian/Mayotte'),
Array('RE', 'Indian/Reunion'),
Array('WS', 'Pacific/Apia'),
Array('NZ', 'Pacific/Auckland'),
Array('NZ', 'Pacific/Chatham'),
Array('CL', 'Pacific/Easter'),
Array('VU', 'Pacific/Efate'),
Array('KI', 'Pacific/Enderbury'),
Array('TK', 'Pacific/Fakaofo'),
Array('FJ', 'Pacific/Fiji'),
Array('TV', 'Pacific/Funafuti'),
Array('EC', 'Pacific/Galapagos'),
Array('PF', 'Pacific/Gambier'),
Array('SB', 'Pacific/Guadalcanal'),
Array('GU', 'Pacific/Guam'),
Array('US', 'Pacific/Honolulu'),
Array('UM', 'Pacific/Johnston'),
Array('KI', 'Pacific/Kiritimati'),
Array('FM', 'Pacific/Kosrae'),
Array('MH', 'Pacific/Kwajalein'),
Array('MH', 'Pacific/Majuro'),
Array('PF', 'Pacific/Marquesas'),
Array('UM', 'Pacific/Midway'),
Array('NR', 'Pacific/Nauru'),
Array('NU', 'Pacific/Niue'),
Array('NF', 'Pacific/Norfolk'),
Array('NC', 'Pacific/Noumea'),
Array('AS', 'Pacific/Pago_Pago'),
Array('PW', 'Pacific/Palau'),
Array('PN', 'Pacific/Pitcairn'),
Array('FM', 'Pacific/Ponape'),
Array('PG', 'Pacific/Port_Moresby'),
Array('CK', 'Pacific/Rarotonga'),
Array('MP', 'Pacific/Saipan'),
Array('PF', 'Pacific/Tahiti'),
Array('KI', 'Pacific/Tarawa'),
Array('TO', 'Pacific/Tongatapu'),
Array('FM', 'Pacific/Truk'),
Array('UM', 'Pacific/Wake'),
Array('WF', 'Pacific/Wallis'));

function update_tz() {
  var country = document.getElementById('country')
  var selectedcountry = country.options[country.selectedIndex].value;
  var saved_zone_value;

  var zone = document.getElementById('timezone');

  if (zone.value) {
    saved_zone_value = zone.value;
  } else {
    save_zone_value = '';
  }
  
  // remove all but the top (--) entry
  zone.options.length=1;
  
  // add in the applicable zones
  for(i = 0; i < allzones.length; i++) {
    var z = allzones[i];
    var selected;
    if (z[0] == selectedcountry || selectedcountry=='') {
      if ( z[1] == saved_zone_value ) {
         selected = true;
      } else {
         selected = false;
      }
      zone.options[zone.options.length] = new Option(z[1], z[1], false,
                                                     selected);
    }
  }
  
  // If there's just one zone, select it.
  if (zone.options.length == 2) {
    zone.selectedIndex = 1;
  }
}

	
